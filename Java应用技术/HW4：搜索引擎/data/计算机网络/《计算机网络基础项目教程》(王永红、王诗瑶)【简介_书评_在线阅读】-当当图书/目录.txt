项目3服务器架构知识目标 理解Web服务、FTP服务、DNS服务、DHCP服务的基础知识以及应用层相关协议；掌握支撑应用层的传输层TCP、UDP协议。 技能目标 掌握Windows Server 2008操作系统的Web服务、FTP服务、DNS服务、DHCP服务的配置和管理。 项目导入 某中小型企业网络布线及设备已经安装到位，测试连接完成。现进一步完成： ①IP地址分配，办公室几十台PC设置静态IP地址，几十台移动笔记本电脑设置动态IP地址;②提供Web服务、FTP服务; ③申请域名，提供DNS服务。 科为公司继续完成该项目。本项目有三个任务需要完成： ①安装与管理Windows Server 2008； ②构建Web服务、FTP服务； ③构建DNS服务、DHCP服务。 本项目中企业内网采用私有IP地址192.168.0.0/24。IP地址规划如下： 192.168.0.1～192.168.0.10预留出给服务器，192.168.0.254作为网关；192.168.0.11～192.168.0.100固定分配给办公室PC；192.168.0.101～192.168.0.200动态分配给移动笔记本电脑；其他IP地址备用。 任务3.1构建Intranet服务〖*2〗任务3.1.1架设和管理Web服务器一、 任务描述Windows Server 2008在服务器上安装完备。企业网页已经做好了，科为公司请工程师帮助企业架设和配置Web服务。 二、 任务分析 根据任务描述，需要在Windows Server 2008上安装Web服务器，并对Web服务器进行配置和管理，包括配置新建Web站点、设置默认首页、设置主目录、配置虚拟目录、设置安全性以及测试Web站点等。本任务选用Windows Server 2008的IIS 7作为Web服务平台。 本任务计划如下。 （1） 检查IIS服务是否安装，如果没有需要安装IIS。 （2） 创建存放网页的文件夹，并把已经制作好的网页复制到该文件夹。 （3） 新建Web站点。 
项目3服务器架构知识目标
理解Web服务、FTP服务、DNS服务、DHCP服务的基础知识以及应用层相关协议；掌握支撑应用层的传输层TCP、UDP协议。
技能目标
掌握Windows Server 2008操作系统的Web服务、FTP服务、DNS服务、DHCP服务的配置和管理。
项目导入
某中小型企业网络布线及设备已经安装到位，测试连接完成。现进一步完成： ①IP地址分配，办公室几十台PC设置静态IP地址，几十台移动笔记本电脑设置动态IP地址;②提供Web服务、FTP服务; ③申请域名，提供DNS服务。
科为公司继续完成该项目。本项目有三个任务需要完成： ①安装与管理Windows Server 2008； ②构建Web服务、FTP服务； ③构建DNS服务、DHCP服务。
本项目中企业内网采用私有IP地址192.168.0.0/24。IP地址规划如下： 192.168.0.1～192.168.0.10预留出给服务器，192.168.0.254作为网关；192.168.0.11～192.168.0.100固定分配给办公室PC；192.168.0.101～192.168.0.200动态分配给移动笔记本电脑；其他IP地址备用。
任务3.1构建Intranet服务〖*2〗任务3.1.1架设和管理Web服务器一、 任务描述Windows Server 2008在服务器上安装完备。企业网页已经做好了，科为公司请工程师帮助企业架设和配置Web服务。
二、 任务分析
根据任务描述，需要在Windows Server 2008上安装Web服务器，并对Web服务器进行配置和管理，包括配置新建Web站点、设置默认首页、设置主目录、配置虚拟目录、设置安全性以及测试Web站点等。本任务选用Windows Server 2008的IIS 7作为Web服务平台。
本任务计划如下。
（1） 检查IIS服务是否安装，如果没有需要安装IIS。
（2） 创建存放网页的文件夹，并把已经制作好的网页复制到该文件夹。
（3） 新建Web站点。
（4） 配置Web站点。
三、 知识准备
Web网页的访问使用应用层的HTTP协议。HTTP协议建立在传输层的TCP协议基础上。TCP协议一般应用在可靠性要求高的地方，支持的常见应用层协议有HTTP、FTP、SMTP、Telnet等。
1. TCP协议功能
TCP（Transmission Control Protocol，传输控制协议）是一种面向连接的、可靠的、端到端的传输层通信协议，数据发送之前先建立连接通道。TCP协议由IETF的RFC 793规范定义。TCP在IP报文的协议号是6。
TCP协议的主要功能是提供IP环境下的数据可靠传输。完成对数据报的确认、流量控制和网络拥塞；自动检测数据报，并提供错误重发的功能；将接收的数据报按照原来发送的顺序进行排序，并对重复数据进行选择；控制超时重发，自动调整超时值；提供自动恢复丢失数据的功能。
 2. TCP协议报文格式
为了实现TCP协议报文可靠的传输，采用了特殊的报文格式，报头格式中固定部分占5行，每行32位长（4字节），共20字节，如图31所示。图中各字段含义如下。
图31TCP报头格式
（1） 源端口、目的端口： 都是16位（2字节）。分别表示发送方和接收方进程对应的端口号。端口号和IP地址构成套接字(Socket)地址。源端口和目的端口的套接字合起来唯一地表示一条连接。网络应用程序在通信时直接向套接字发送和接收数据。
（2） 序列号： 32位（4字节）。序列号表示数据部分第一个字节的序列号。
（3） 确认号： 32位（4字节）。希望收到的下一个数据报的序列号。
序列号和确认号可以表示0～232-1字节的范围。
（4） TCP协议数据报头头长： 4位。表示TCP报文头的长度。长度以32位（4字节）为单位计算。所以如果选项部分的长度不是4字节的整数倍，则要加上填充(padding)。
（5） 保留域： 6位，留着扩展使用，设置为0。
（6） 6个标志位： 有很重要的作用，TCP的连接、断开和传输都受到标志位的控制。
① URG(urgent)为紧急数据标志位。它和第五行的紧急指针配合使用。如果为1，则表示本数据报中包含紧急数据。此时紧急数据指针表示的值有效。它表示在紧急数据之后的第一个字节的偏侈值(即紧急数据的总长度)。
② ACK(acknowledge)为确认标志位。如果ACK为1，则确认号有效；否则，确认号无效，接收端可以忽略它。
③ PSH(push)为推标志位。如果PSH为1，要求发送方的TCP协议软件马上发送该数据报，接收方在收到数据后也应该立即上交给应用程序，不必等到缓冲区装满。
④ RST(reset)为复位标志位。用来复位一条连接。RST标志置位的报文称为复位报文。一般情况下，如果TCP收到的一个报文明显不是属于该主机上的连接，则向远端发送一个复位报文。可以用于复位由于主机崩溃或其他原因而出现的错误连接；还可以用于拒绝非法的数据报或拒绝连接请求。
⑤ SYN(synchronous)为同步标志位。用来建立连接，让连接双方同步序列号。如果SYN=1而ACK=0，则表示该数据报为连接请求；如果SYN=1而ACK=1，则表示接受连接。
⑥ FIN(finish)为断开标志位。表示发送方已经没有数据要传输了，希望释放连接。
（7） 窗口大小： 16位。表示从被确认的字节开始，还可以连续发送的字节数。接收方通过设置该窗口值的大小，可以调节源端发送数据的速度，从而实现流控。
（8） 校验和(checksum)： 16位。TCP协议提供的一种检错机制，确保高可靠性。它校验头部、数据和伪TCP头部之和。
（9） 紧急指针位： 16位。和URG配合使用。
（10） 可选项（options）： 0个或多个32位。包括最大TCP载荷、窗口比例、TCP数据报头选择重发数据报等选项。
① 最大TCP载荷： 允许每台主机设定其能够接受的最大TCP载荷能力。在建立连接期间，双方均声明其最大载荷能力，并选取其中较小的作为标准。如果一台主机未使用该选项，那么其载荷能力默认设置为536字节。
② 窗口比例： 允许发送方和接收方商定一个合适的窗口比例因子。这一因子使滑动窗口最大能够达到232字节。
③ TCP协议数据报头选择重发数据报： 这个选项允许接收方请求发送指定的一个或多个数据报。
 显示全部信息