第3章 总线与主板　　总线（Bus）是供多个部件分时共享的公共信息传送线路，一个系统的总线结构决定了该计算机系统的数据通路及系统结构。它能简化系统设计、便于组织多家厂家进行专业化大规模生产，降低产品成本、提高产品的性能和质量，便于产品的更新换代、满足不同用户需求以及提高可维修性等，因而得以迅速发展。自1970年美国DEC公司在其PDP-11/20小型计算机上采用Unibus以来，各种标准的、非标准的总线纷纷面世。如今，几乎所有的计算机系统中都采用了总线结构。　　在微型计算机中，总线以及所连接的部件都安放在主板（Main Board）上。计算机在运行中对于系统内的部件和外部设备的控制都通过主板实现，主板的组成与布局也影响着系统的运行速度、稳定性和可扩展性。3.1 总线的概念3.1.1 总线及其规范　　总线是由导线组成的传输线束，用来作为在计算机各种功能部件之间传送信息的公共通信干线。　　共享、分时和规范是总线的3个基本特点。共享是指多个部件连接在同一组总线上，各部件之间相互交换的信息都可以通过这组总线传送。分时是指同一时刻总线只能在一对部件之间传送信息。　　总线是计算机系统模块化的产物，相同的指令系统，相同的功能，不同厂家生产的各功能部件在实现方法上不尽相同，但希望相同的功能部件可以互换使用，这要求各厂家的产品必须遵循一定的规范。这些规范包括如下4个方面。　　1. 机械规范　　机械规范又称为物理规范，指总线在机械上的连接方式，如插头与插座所使用的标准，包括接插件尺寸、形状、引脚根数及排列顺序等，以便能正确无误地连接。图3.1为计算机中常用的一些总线接插件。　　2. 电气规范　　电气规范指总线的每一根线上信号的传递方向及有效电平范围、动态转换时间、负载能力等。一般规定送入CPU的信号称为输入信号（IN），从CPU发出的信号称为输出信号（OUT）。例如，地址总线是输出线，数据总线是双向传送，这两类信号线都是高电平有效；控制总线一般是单向的，有输出的也有输入的，有高电平有效也有低电平有效。总线的电平都符合TTL电平的定义。例如RS-232C的电气规范规定，用低电平表示逻辑1，并且要求电平低于–3V；用高电平表示逻辑0，并且要求电平高于 4V，通常额定信号电平为–10V～ 10V。 图3.1 计算机中常用的一些总线接插件　　3. 功能规范　　按功能总线可分为地址总线、数据总线和控制总线。在控制总线中，各条线的功能也不相同，有CPU发出的各种控制命令（如存储器读写、I/O读写等），也有外设与主机的同步匹配信号，还有中断信号、DMA控制信号等。　　4. 时间规范　　时间规范又称为逻辑规范，指在总线操作过程中每一根信号线上信号什么时候有效，通过这种信号有效的时序关系约定，确保了总线操作的正确进行。3.1.2 总线分类　　总线应用很广，形态多样，从不同的角度可以有不同的分类方法。下面列举几种。　　1. 按照总线传递的信号性质分类　　按照总线传递的信号性质，可将其分为3种。　　（1）地址总线（Address Bus，AB），用来传递地址信息。　　（2）数据总线（Data Bus，DB），用来传递数据信息。　　（3）控制总线（Control Bus，CB），用来传递各种控制信号。　　2. 按照总线所处的位置分类　　按照总线所处的位置分为机内总线和机外总线。　　机内总线分为片内总线和片外总线。片内总线指CPU芯片内部用于在寄存器、ALU以及控制部件之间传输信号的总线；片外总线指CPU芯片之外，用于连接CPU、内存以及I/O设备的总线。　　机外总线指与外围设备接口的总线，实际上是一种外设的接口标准。目前在微型计算机上流行的接口标准有IDE、SCSI、USB和IEEE 1394等。　　3. 按照总线在系统中连接的主要部件分类　　按照总线在系统中连接的主要部件，可以将总线分为5种。